/* ====== Basis / vars ====== */
:root{
  --border:#ddd;
  --text:#111;
  --muted:#6b7280;
  --bg:#fff;
  --bg-soft:#f6f6f6;
  --brand:#7aa4e6;
  --radius:12px;
  --gap:12px;
}

/* ====== Layout ====== */
main{ max-width: 1000px; margin: 0 auto; padding: 16px; }

/* ====== Kort, knapper, XP-bar ====== */
.card{
  border:1px solid var(--border);
  border-radius: var(--radius);
  padding:12px;
  margin:8px 0;
  background: var(--bg);
}
.btn{
  padding:8px 12px;
  border-radius:8px;
  border:1px solid #ccc;
  cursor:pointer;
  background:#fff;
}
.btn[disabled]{ opacity:.6; cursor:not-allowed; }
.mini-gap{ display:flex; gap:8px; }

/* XP-bar */
.xp-bar{
  height:10px;
  background:#eee;
  border-radius:8px;
  overflow:hidden;
}
.xp-fill{
  height:100%;
  width:0%;
  background:#89c;
  transition:width .4s ease;
}

/* ====== Route-liste elementer ====== */
.route-item{
  display:flex; gap:10px; align-items:center;
  border:1px solid var(--border);
  border-radius:10px; padding:8px;
  background:#fff;
}
.route-item .swatch{ width:10px; height:36px; border-radius:6px; }
.route-item .txt{ display:flex; flex-direction:column; line-height:1.2; }
.route-item .title{ font-weight:600; }
.route-item small{ opacity:.7; }

/* G칮r checkbox nem at trykke p친 p친 mobil */
.route-item input[type="checkbox"]{
  width:20px; height:20px;
}

/* ====== Dialog (native <dialog>) ====== */
/* Skjul ALTID dialog, medmindre den er open */
dialog.beta-dialog:not([open]) { display: none; }

/* Kun n친r dialogen er open skal layoutet g칝lde */
dialog.beta-dialog[open]{
  padding:16px;
  border:none;
  border-radius:16px;
  width: min(960px, 95vw);
  max-height: 85vh;
  background: var(--bg);
  color: var(--text);
}
dialog.beta-dialog[open]::backdrop{
  background: rgba(0,0,0,.4);
}

/* Indholdslayout */
dialog.beta-dialog[open] .modal-grid{
  display:grid;
  grid-template-columns: 360px 1fr;
  gap:16px;
  align-items:start;
}
dialog.beta-dialog{
  padding:16px;
  border:none;
  border-radius:16px;
  width: min(960px, 95vw);
  max-height: 85vh;
}
dialog.beta-dialog::backdrop{
  background: rgba(0,0,0,.4);
}

/* Indhold i dialog */
.modal-grid{
  display:grid;
  grid-template-columns: 360px 1fr;
  gap:16px;
  align-items:start;
}
.route-search{ width:100%; margin:8px 0; padding:6px 8px; }
.route-list{
  display:flex; flex-direction:column; gap:8px;
  max-height: calc(85vh - 240px);
  overflow:auto;
  padding-right:4px;
}
.preview-wrap{
  border:1px solid var(--border);
  border-radius:10px;
  overflow:hidden;
  background: var(--bg-soft);
}
.preview-meta{ margin-top:6px; opacity:.8; font-size:12px; }

/* Actions nederst */
.modal-actions{
  display:flex; gap:8px; justify-content:space-between; align-items:center; margin-top:12px;
}
.modal-actions .counts{ font-size:12px; opacity:.8; }

/* ====== Mobil-UX ====== */
@media (max-width: 700px){
 
  dialog.beta-dialog[open]{
    width:100vw;
    height:100dvh;
    max-height:none;
    border-radius:0;
    padding:12px;
    display:grid;
    grid-template-rows: auto 1fr auto;
  }
  dialog.beta-dialog[open] .modal-grid{
    grid-template-columns: 1fr;
    gap:12px;
  }
  dialog.beta-dialog[open] .route-list{ height: 40dvh; }
  dialog.beta-dialog[open] .preview-wrap{ height: 38dvh; }
  dialog.beta-dialog[open] .modal-actions{
    position: sticky; bottom: 0;
    background: var(--bg);
    padding-top:8px; margin-top:8px;
  }

 dialog.beta-dialog{
    width:100vw;
    height:100dvh;
    max-height:none;
    border-radius:0;
    padding:12px;
    display:grid;
    grid-template-rows: auto 1fr auto;
  }
  .modal-grid{
    grid-template-columns: 1fr;
    gap:12px;
  }
  .route-list{
    max-height: none;
    height: 40dvh;   /* scroll omr친de */
  }
  .preview-wrap{
    height: 38dvh;   /* preview-h칮jde */
  }
  .modal-actions{
    position: sticky; bottom: 0;
    background: var(--bg);
    padding-top:8px;
    margin-top:8px;
  }
}

/* ====== Sm친 utils ====== */
.sr-only{
  position:absolute!important; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0,0,0,0); border:0;
}

/* 游깿 Auto Dark Mode (f칮lger systemindstilling) */
@media (prefers-color-scheme: dark) {
  :root{
    --bg:        #0b0f15;
    --bg-soft:   #121823;
    --text:      #e7ecf4;
    --muted:     #99a6bb;
    --border:    #263246;
    --brand:     #8db1ff;
  }

  body{ background: var(--bg); color: var(--text); }

  .card,
  .route-item,
  .preview-wrap{
    background: var(--bg-soft);
    border-color: var(--border);
  }

  .route-item small,
  .modal-actions .counts small{ color: var(--muted); }

  .btn{
    background: #151c27;
    color: var(--text);
    border-color: #314056;
  }
  .btn[disabled]{ opacity: .5; }

  .xp-bar{ background: #1a2433; }
  .xp-fill{
    /* lidt mere pop i m칮rkt tema */
    background: linear-gradient(90deg, #5f8cff, #9e7bff);
  }

  dialog.beta-dialog{
    background: var(--bg);
    color: var(--text);
    border: 1px solid var(--border);
  }
  dialog.beta-dialog::backdrop{
    background: rgba(0,0,0,.65);
  }

  .route-search{
    background: #0f141d;
    color: var(--text);
    border: 1px solid var(--border);
  }

  .preview-meta{ color: var(--muted); }
  .route-list{ scrollbar-color: var(--border) transparent; }
